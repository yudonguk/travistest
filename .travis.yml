language: bash

services: docker

addons:
  apt:
    packages:
      - wget

dependencies:
  cache_directories:
    - docker

script:
  -| DOCKER_REPOSITORY=yudonguk/bicomc-docker
  -| DOCKER_TAGS=$(wget -qO - https://registry.hub.docker.com/v1/repositories/$DOCKER_REPOSITORY/tags | grep -Eo '(?:"name"\s*:\s*)"[^"]+"' | grep -Eo '"[^"]+"$' | grep -Eo '[^"]+')
  -| echo $DOCKER_TAGS
  -| mkdir -p docker
  -| for tag in $DOCKER_TAGS; do
       echo; echo;
       echo -e "\x1B[34m-- Compiler: $tag\x1B[0m";
     done

